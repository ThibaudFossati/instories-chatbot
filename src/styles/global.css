/* === Variables ============================= */
:root{
  --accent:#1e3a8a;
  --bg-gradient:linear-gradient(135deg,#89f7fe,#66a6ff);
  --glass:rgba(255,255,255,.25);
  --radius:16px;--pad:24px;--gap:12px;
  --loader-size:8px;--loader-gap:6px;
  --font-family:system-ui,sans-serif;
}
/* Dark auto */
@media (prefers-color-scheme: dark){
  :root{--accent:#f0a500;--bg-gradient:linear-gradient(135deg,#333,#555);--glass:rgba(0,0,0,.4);}
  html,body{background:var(--bg-gradient);}
}
/* Reset & base */
*{box-sizing:border-box}html,body{margin:0;height:100%;font-family:var(--font-family);background:var(--bg-gradient);-webkit-font-smoothing:antialiased}
/* Loader */
.loader{display:flex;gap:var(--loader-gap);justify-content:center;margin:var(--gap) 0}
.loader span{width:var(--loader-size);height:var(--loader-size);background:var(--accent);border-radius:50%;animation:loader-bounce .6s infinite ease-in-out both}
.loader span:nth-child(1){animation-delay:-.32s}.loader span:nth-child(2){animation-delay:-.16s}@keyframes loader-bounce{0%,80%,100%{transform:scale(0);opacity:.3}40%{transform:scale(1);opacity:1}}
/* Container */
.container{position:fixed;bottom:24px;left:50%;transform:translateX(-50%);width:90vw;max-width:400px;height:80vh;background:var(--glass);backdrop-filter:blur(8px);border-radius:var(--radius);padding:var(--pad);display:flex;flex-direction:column}
/* Header */
.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--gap)}.header h1{margin:0;font-size:1.2rem;color:#fff}.btn-new{background:none;border:none;padding:4px 8px;font-size:1rem;color:var(--accent);cursor:pointer;transition:transform .2s}.btn-new:hover{transform:scale(1.05);text-decoration:underline}
/* History */
.history{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:var(--gap);margin-bottom:var(--gap);padding-bottom:env(safe-area-inset-bottom);min-height:0}
/* Bubbles */
.bubble{max-width:80%;padding:12px 16px;font-size:15px;line-height:1.4;white-space:pre-line;border-radius:var(--radius);animation:fadeInUp .3s ease both;background:rgba(255,255,255,.5);color:#202124}
.bubble.user{align-self:flex-end;background:rgba(232,240,254,.6);border-radius:16px 16px 4px 16px}
.bubble.bot{align-self:flex-start;background:rgba(241,243,244,.6);border-radius:16px 16px 16px 4px}@keyframes fadeInUp{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}
}
/* Quick replies */
.quick-replies{display:flex;flex-wrap:wrap;gap:8px;margin:var(--gap) 0}
.quick-reply{background:rgba(255,255,255,.85);border:none;border-radius:20px;padding:8px 14px;font-size:14px;cursor:pointer;transition:transform .15s,box-shadow .15s}
.quick-reply:hover{transform:scale(1.05);box-shadow:0 4px 10px rgba(0,0,0,.1)}.quick-reply:active{transform:scale(.97)}
/* Footer & send */
.footer{display:flex;gap:8px;align-items:center;margin-top:auto}
.footer input{flex:1;padding:12px;border:none;border-radius:24px;font-size:1rem;min-width:0}
.btn-send{background:var(--accent);color:#fff;border:none;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;font-size:1.2rem;cursor:pointer;transition:background .2s,transform .2s;margin-left:4px;padding:0}
.btn-send:hover{transform:scale(1.05);background:#143069}
/* Responsive tweaks */
@media(max-width:480px){.container{height:90vh;bottom:16px;padding:12px;border-radius:12px}.header h1{font-size:1rem}.footer input{font-size:.9rem;padding:8px}.btn-send{width:36px;height:36px}}
